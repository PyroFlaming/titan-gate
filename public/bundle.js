/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/main.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/calendar/event-calendar.js":
/*!****************************************!*\
  !*** ./src/calendar/event-calendar.js ***!
  \****************************************/
/*! exports provided: EventCalendar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EventCalendar\", function() { return EventCalendar; });\n/* harmony import */ var _helpers_loader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers/loader */ \"./src/helpers/loader.js\");\n/* harmony import */ var _helpers_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/modal */ \"./src/helpers/modal.js\");\n/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events */ \"./src/calendar/events.js\");\n/* harmony import */ var _search_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./search-event */ \"./src/calendar/search-event.js\");\n/* harmony import */ var _libs_create_calendar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../libs/create-calendar */ \"./src/libs/create-calendar.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = privateMap.get(receiver); if (!descriptor) { throw new TypeError(\"attempted to get private field on non-instance\"); } if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = privateMap.get(receiver); if (!descriptor) { throw new TypeError(\"attempted to set private field on non-instance\"); } if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } return value; }\n\n\n\n\n\n\nvar EventCalendar = /*#__PURE__*/function () {\n  function EventCalendar() {\n    var _this = this;\n\n    _classCallCheck(this, EventCalendar);\n\n    _searchInstance.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _eventService.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _defineProperty(this, \"activeDate\", void 0);\n\n    _defineProperty(this, \"allUserEvents\", []);\n\n    _classPrivateFieldSet(this, _eventService, new _events__WEBPACK_IMPORTED_MODULE_2__[\"CalendarEvents\"]());\n\n    _classPrivateFieldSet(this, _searchInstance, new _search_event__WEBPACK_IMPORTED_MODULE_3__[\"SearchEvent\"](_classPrivateFieldGet(this, _eventService)));\n\n    document.addEventListener('DOMContentLoaded', function () {\n      _this.calendarControls();\n\n      _this.printCalendar(new Date());\n\n      _this.subscriptionEventsChange();\n    });\n  }\n\n  _createClass(EventCalendar, [{\n    key: \"subscriptionEventsChange\",\n    value: function subscriptionEventsChange() {\n      var _this2 = this;\n\n      // TODO create subscriber and listen for data change and change the window object.\n      _classPrivateFieldGet(this, _eventService).events.subscribe(function (data) {\n        _this2.allUserEvents = data;\n\n        _this2.printCalendar(_this2.activeDate);\n      });\n    }\n  }, {\n    key: \"dayContent\",\n    value: function dayContent(allUserEvents) {\n      return function (calendarDateOb, element) {\n        var currentDayEvents = allUserEvents.filter(function (el) {\n          var eventDate = new Date(el.forDate.getFullYear(), el.forDate.getMonth(), el.forDate.getDate());\n          var curetDate = new Date(calendarDateOb.date.getFullYear(), calendarDateOb.date.getMonth(), calendarDateOb.date.getDate());\n          return eventDate.getTime() == curetDate.getTime();\n        });\n        var dayContent = '<span class=\"date\">' + calendarDateOb.date.getDate() + '</span>';\n\n        if (currentDayEvents && currentDayEvents.length) {\n          element.classList.add('has-event');\n          dayContent += '<ul>';\n\n          for (var index = 0; index < currentDayEvents.length; index++) {\n            var _element = currentDayEvents[index];\n            dayContent += \"<li><b>\".concat(_element.title, \"</b> \").concat(_element.description, \"</li>\");\n          }\n\n          dayContent += '</ul>';\n        }\n\n        return dayContent;\n      };\n    }\n  }, {\n    key: \"showDayEvents\",\n    value: function showDayEvents() {}\n  }, {\n    key: \"addNewEvent\",\n    value: function addNewEvent() {\n      var _this3 = this;\n\n      var mBody = \"\\n            <form id=\\\"create-new\\\">\\n                <div class=\\\"form-group\\\">\\n                    <label for=\\\"title\\\">Title:</label>\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"title\\\">\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <label for=\\\"participants\\\">Participants:</label>\\n                    <input type=\\\"textarea\\\" class=\\\"form-control\\\" id=\\\"participants\\\">\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <label for=\\\"description\\\">Details:</label>\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"description\\\">\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <label for=\\\"meeting-time\\\">Event date time:</label>\\n                    <input type=\\\"datetime-local\\\" id=\\\"meeting-time\\\"\\n                        name=\\\"meeting-time\\\">\\n                </div>\\n            </form>\\n        \";\n      var mFooter = \"\\n            <button type=\\\"button\\\" class=\\\"btn btn-success\\\" data-action=\\\"submit\\\">Success</button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-action=\\\"close\\\">Close</button>\\n        \";\n      var mInstance = _helpers_modal__WEBPACK_IMPORTED_MODULE_1__[\"modal\"].showModal({\n        title: 'Create event',\n        body: mBody,\n        footer: mFooter\n      }, function (action) {\n        if (action == 'submit') {\n          var newEventForm = document.querySelector('#create-new');\n          var newEvent = {};\n          var errors = [];\n          Object.values(newEventForm.elements).forEach(function (el) {\n            el.classList.remove('error');\n\n            if (el.id === 'meeting-time') {\n              try {\n                Object.assign(newEvent, {\n                  forDate: new Date(el.value)\n                });\n\n                if (!(newEvent.forDate instanceof Date && !isNaN(newEvent.forDate))) {\n                  errors.push(el.id);\n                  el.classList.add('error');\n                }\n              } catch (e) {\n                errors.push(el.id);\n                el.classList.add('error');\n              }\n            } else {\n              if (el.value && el.value.trim().length) {\n                newEvent[el.id] = el.value;\n              } else {\n                errors.push(el.id);\n                el.classList.add('error');\n              }\n            }\n          });\n\n          if (errors.length == 0) {\n            _classPrivateFieldGet(_this3, _eventService).createEvent(newEvent).then(function (response) {\n              // TODO implement on successfully create to append the new event to current events massive \n              try {\n                _classPrivateFieldGet(_this3, _eventService).fetchUserEvents();\n              } catch (e) {\n                console.error(e);\n              }\n\n              _helpers_modal__WEBPACK_IMPORTED_MODULE_1__[\"modal\"].hideModal(mInstance);\n            })[\"catch\"](function (error) {\n              _helpers_modal__WEBPACK_IMPORTED_MODULE_1__[\"modal\"].hideModal(mInstance);\n            });\n          }\n        } else {\n          _helpers_modal__WEBPACK_IMPORTED_MODULE_1__[\"modal\"].hideModal(mInstance);\n        }\n      });\n    }\n  }, {\n    key: \"calendarControls\",\n    value: function calendarControls() {\n      var _this4 = this;\n\n      var prevBtn = document.querySelector('[calendarPrev]');\n      var nextBtn = document.querySelector('[calendarNext]');\n      var currentBtn = document.querySelector('[currentMonth]');\n      var addNewEvent = document.querySelector('#addNewEvent');\n      var refreshButton = document.querySelector('#refresh-events');\n\n      if (prevBtn) {\n        prevBtn.addEventListener('click', function () {\n          _this4.prevMonth();\n        });\n      }\n\n      if (nextBtn) {\n        nextBtn.addEventListener('click', function () {\n          _this4.nextMonth();\n        });\n      }\n\n      if (currentBtn) {\n        currentBtn.addEventListener('click', function () {\n          _this4.currentMonth();\n        });\n      }\n\n      if (addNewEvent) {\n        addNewEvent.addEventListener('click', function () {\n          _this4.addNewEvent();\n        });\n      }\n\n      if (refreshButton) {\n        refreshButton.addEventListener('click', function () {\n          // TODO make live reload on specific time frame. \n          _classPrivateFieldGet(_this4, _eventService).fetchUserEvents().then(function (response) {// noting \n          })[\"catch\"](function (error) {\n            console.error(error);\n          });\n        });\n      }\n    }\n  }, {\n    key: \"nextMonth\",\n    value: function nextMonth() {\n      this.printCalendar(new Date(this.activeDate.getFullYear(), this.activeDate.getMonth() + 1, 1));\n    }\n  }, {\n    key: \"prevMonth\",\n    value: function prevMonth() {\n      this.printCalendar(new Date(this.activeDate.getFullYear(), this.activeDate.getMonth() - 1, 1));\n    }\n  }, {\n    key: \"currentMonth\",\n    value: function currentMonth() {\n      this.printCalendar(new Date(), this.dayContent(this.allUserEvents));\n    }\n  }, {\n    key: \"printCalendar\",\n    value: function printCalendar(date) {\n      var calendarHolder = document.querySelector('[calendarHolder]');\n      var calendarTitle = document.querySelector('[calendarTitle]');\n\n      if (calendarHolder) {\n        this.activeDate = date;\n        var month = this.activeDate.getMonth();\n        var year = this.activeDate.getFullYear();\n\n        if (calendarTitle) {\n          var monthsStrings = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n          calendarTitle.innerText = year + ' ' + monthsStrings[month];\n        }\n\n        Object(_libs_create_calendar__WEBPACK_IMPORTED_MODULE_4__[\"createCalendar\"])(calendarHolder, date, this.dayContent(this.allUserEvents));\n      }\n    }\n  }]);\n\n  return EventCalendar;\n}();\n\nvar _searchInstance = new WeakMap();\n\nvar _eventService = new WeakMap();\n\n//# sourceURL=webpack:///./src/calendar/event-calendar.js?");

/***/ }),

/***/ "./src/calendar/events.js":
/*!********************************!*\
  !*** ./src/calendar/events.js ***!
  \********************************/
/*! exports provided: CalendarEvents, CalendarEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CalendarEvents\", function() { return CalendarEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CalendarEvent\", function() { return CalendarEvent; });\n/* harmony import */ var _services_api_connection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../services/api-connection */ \"./src/services/api-connection.js\");\n/* harmony import */ var _helpers_loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/loader */ \"./src/helpers/loader.js\");\n/* harmony import */ var _services_authentication__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/authentication */ \"./src/services/authentication.js\");\n/* harmony import */ var _libs_simpleSubscriber__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../libs/simpleSubscriber */ \"./src/libs/simpleSubscriber.js\");\n/* harmony import */ var _helpers_localstorage_cache__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../helpers/localstorage-cache */ \"./src/helpers/localstorage-cache.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = privateMap.get(receiver); if (!descriptor) { throw new TypeError(\"attempted to get private field on non-instance\"); } if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n\n\n\n\n\n\nvar CalendarEvents = /*#__PURE__*/function () {\n  function CalendarEvents() {\n    _classCallCheck(this, CalendarEvents);\n\n    _path.set(this, {\n      writable: true,\n      value: 'calendar-events.json'\n    });\n\n    _defineProperty(this, \"events\", new _libs_simpleSubscriber__WEBPACK_IMPORTED_MODULE_3__[\"SimpleSubject\"]([]));\n\n    _defineProperty(this, \"cache\", void 0);\n\n    this.cache = _helpers_localstorage_cache__WEBPACK_IMPORTED_MODULE_4__[\"localCacheService\"];\n    this.fetchUserEvents(true);\n  }\n\n  _createClass(CalendarEvents, [{\n    key: \"createEvent\",\n    value: function createEvent(eventData) {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        var event = new CalendarEvent(eventData.title, _services_authentication__WEBPACK_IMPORTED_MODULE_2__[\"authenticationService\"].auth.username, new Date(), eventData.forDate, eventData.description, eventData.participants);\n        var loaderObj = _helpers_loader__WEBPACK_IMPORTED_MODULE_1__[\"loader\"].show();\n        _services_api_connection__WEBPACK_IMPORTED_MODULE_0__[\"apiConnectionService\"].post(_classPrivateFieldGet(_this, _path), event).then(function (response) {\n          _helpers_loader__WEBPACK_IMPORTED_MODULE_1__[\"loader\"].hide(loaderObj);\n          resolve(response);\n        })[\"catch\"](function (error) {\n          _helpers_loader__WEBPACK_IMPORTED_MODULE_1__[\"loader\"].hide(loaderObj);\n          reject('Fail to create event!');\n          alert('Fail to create event!');\n        });\n      });\n    }\n  }, {\n    key: \"deleteEvent\",\n    value: function deleteEvent(eventId) {\n      var _this2 = this;\n\n      return new Promise(function (resolve, reject) {\n        var loaderObj = _helpers_loader__WEBPACK_IMPORTED_MODULE_1__[\"loader\"].show();\n        _services_api_connection__WEBPACK_IMPORTED_MODULE_0__[\"apiConnectionService\"][\"delete\"](_classPrivateFieldGet(_this2, _path).replace('.json', '/') + eventId + '.json').then(function (response) {\n          _helpers_loader__WEBPACK_IMPORTED_MODULE_1__[\"loader\"].hide(loaderObj);\n          resolve(response);\n        })[\"catch\"](function (error) {\n          _helpers_loader__WEBPACK_IMPORTED_MODULE_1__[\"loader\"].hide(loaderObj);\n          reject(error);\n          alert(error);\n        });\n      });\n    } // use for initial fetch for user events\n\n  }, {\n    key: \"fetchUserEvents\",\n    value: function fetchUserEvents(useCache) {\n      var _this3 = this;\n\n      return new Promise(function (resolve, reject) {\n        var loaderObj = _helpers_loader__WEBPACK_IMPORTED_MODULE_1__[\"loader\"].show();\n\n        if (useCache) {\n          var cacheData = _this3.cache.getCache('calendar-events');\n\n          if (cacheData && cacheData.data && cacheData.data.length) {\n            var eventData = cacheData.data.map(function (el) {\n              el.forDate = new Date(el.forDate);\n              el.createAt = new Date(el.createAt);\n              return el;\n            });\n\n            _this3.events.next(eventData);\n\n            resolve(eventData);\n            _helpers_loader__WEBPACK_IMPORTED_MODULE_1__[\"loader\"].hide(loaderObj);\n            return;\n          }\n        }\n\n        var userName = _services_authentication__WEBPACK_IMPORTED_MODULE_2__[\"authenticationService\"].auth.username;\n        _services_api_connection__WEBPACK_IMPORTED_MODULE_0__[\"apiConnectionService\"].get(_classPrivateFieldGet(_this3, _path) + '?orderBy=\"creator\"&equalTo=\"' + userName + '\"').then(function (response) {\n          if (response.data) {\n            var userEvents = [];\n            Object.keys(response.data).forEach(function (key) {\n              response.data[key].forDate = new Date(response.data[key].forDate);\n              response.data[key].createAt = new Date(response.data[key].createAt);\n              userEvents.push(Object.assign(response.data[key], {\n                id: key\n              }));\n            });\n\n            _this3.cache.setCache('calendar-events', userEvents, _classPrivateFieldGet(_this3, _path) + '?orderBy=\"creator\"&equalTo=\"' + userName + '\"');\n\n            _this3.events.next(userEvents);\n\n            _helpers_loader__WEBPACK_IMPORTED_MODULE_1__[\"loader\"].hide(loaderObj);\n            resolve(response.data);\n          }\n        })[\"catch\"](function (error) {\n          _helpers_loader__WEBPACK_IMPORTED_MODULE_1__[\"loader\"].hide(loaderObj);\n          console.error(error);\n        });\n      }); // cache in localStorage\n    }\n  }]);\n\n  return CalendarEvents;\n}();\n\nvar _path = new WeakMap();\n\nvar CalendarEvent = function CalendarEvent(title, creator, createAt, forDate, description, participants) {\n  _classCallCheck(this, CalendarEvent);\n\n  _defineProperty(this, \"title\", void 0);\n\n  _defineProperty(this, \"creator\", void 0);\n\n  _defineProperty(this, \"createAt\", void 0);\n\n  _defineProperty(this, \"forDate\", void 0);\n\n  _defineProperty(this, \"description\", void 0);\n\n  _defineProperty(this, \"participants\", void 0);\n\n  this.title = title;\n  this.creator = creator;\n  this.createAt = createAt;\n  this.forDate = forDate;\n  this.description = description;\n  this.participants = participants;\n};\n\n//# sourceURL=webpack:///./src/calendar/events.js?");

/***/ }),

/***/ "./src/calendar/search-event.js":
/*!**************************************!*\
  !*** ./src/calendar/search-event.js ***!
  \**************************************/
/*! exports provided: SearchEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SearchEvent\", function() { return SearchEvent; });\n/* harmony import */ var _helpers_modal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers/modal */ \"./src/helpers/modal.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = privateMap.get(receiver); if (!descriptor) { throw new TypeError(\"attempted to get private field on non-instance\"); } if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = privateMap.get(receiver); if (!descriptor) { throw new TypeError(\"attempted to set private field on non-instance\"); } if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } return value; }\n\n\nvar SearchEvent = /*#__PURE__*/function () {\n  function SearchEvent(eventService) {\n    var _this = this;\n\n    _classCallCheck(this, SearchEvent);\n\n    _defineProperty(this, \"searchHolder\", void 0);\n\n    _defineProperty(this, \"searchInput\", void 0);\n\n    _defineProperty(this, \"searchSuggestionsHolder\", void 0);\n\n    _eventService.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _defineProperty(this, \"allUserEvents\", void 0);\n\n    _classPrivateFieldSet(this, _eventService, eventService);\n\n    document.addEventListener('DOMContentLoaded', function () {\n      _this.selectSearchElements();\n\n      if (_this.searchInput && _this.searchHolder && _this.searchSuggestionsHolder) {\n        _this.subscriptionEventsChange();\n\n        window.filterEvents = _this.filterSuggestions;\n\n        _this.appendEventListeners();\n      }\n    });\n  }\n\n  _createClass(SearchEvent, [{\n    key: \"subscriptionEventsChange\",\n    value: function subscriptionEventsChange() {\n      var _this2 = this;\n\n      // TODO create subscriber and listen for data change and change the window object.\n      _classPrivateFieldGet(this, _eventService).events.subscribe(function (data) {\n        _this2.allUserEvents = data;\n        window.eventSearch = _this2.allUserEvents;\n      });\n    }\n  }, {\n    key: \"selectSearchElements\",\n    value: function selectSearchElements() {\n      this.searchInput = document.querySelector('#calendar-search-input');\n      this.searchHolder = document.querySelector('#calendar-search');\n      this.searchSuggestionsHolder = document.querySelector('#calendar-search-suggestions');\n    }\n  }, {\n    key: \"appendEventListeners\",\n    value: function appendEventListeners() {\n      var _this3 = this;\n\n      this.searchInput.addEventListener('focus', function (event) {\n        _this3.printSuggestions(event.autoCompleteResult);\n\n        if (event.autoCompleteResult && Array.isArray(event.autoCompleteResult) && event.autoCompleteResult.length) {\n          _this3.searchHolder.classList.add('open');\n        } else {\n          _this3.searchHolder.classList.remove('open');\n        }\n      });\n      this.searchInput.addEventListener('keyup', function (event) {\n        _this3.printSuggestions(event.autoCompleteResult);\n\n        if (event.autoCompleteResult && Array.isArray(event.autoCompleteResult) && event.autoCompleteResult.length) {\n          _this3.searchHolder.classList.add('open');\n\n          if (event.key === \"Enter\") {\n            _this3.selectSuggestion(event.autoCompleteResult[0].id);\n\n            _this3.searchHolder.classList.remove('open');\n          }\n        } else {\n          _this3.searchHolder.classList.remove('open');\n        }\n      });\n      this.searchInput.addEventListener('blur', function (event) {\n        _this3.printSuggestions(event.autoCompleteResult);\n\n        _this3.searchHolder.classList.remove('open');\n      });\n      this.searchSuggestionsHolder.addEventListener('mousedown', function (event) {\n        var selectedEventId = event.target.getAttribute('eventId');\n\n        if (selectedEventId) {\n          _this3.selectSuggestion(selectedEventId);\n        }\n      });\n    }\n  }, {\n    key: \"selectSuggestion\",\n    value: function selectSuggestion(selectedEventId) {\n      var _this4 = this;\n\n      var selectedEvent = this.allUserEvents.find(function (el) {\n        return el.id === selectedEventId;\n      });\n\n      if (selectedEvent) {\n        this.searchInput.value = '';\n        var mBody = JSON.stringify(selectedEvent);\n        var mFooter = \"\\n                <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" data-action=\\\"close\\\" > Close</button >\\n                <button type=\\\"button\\\" class=\\\"btn btn-danger\\\" data-action=\\\"delete\\\"> Delete </button>\\n            \";\n        _helpers_modal__WEBPACK_IMPORTED_MODULE_0__[\"modal\"].showModal({\n          title: selectedEvent.title,\n          body: mBody,\n          footer: mFooter\n        }, function (actionData) {\n          if (actionData === 'close') {\n            _helpers_modal__WEBPACK_IMPORTED_MODULE_0__[\"modal\"].hideModal();\n          } else if (actionData === 'delete') {\n            _helpers_modal__WEBPACK_IMPORTED_MODULE_0__[\"modal\"].hideModal();\n\n            _classPrivateFieldGet(_this4, _eventService).deleteEvent(selectedEvent.id).then(function (response) {\n              // TODO just remove it from current eventsMassive \n              _classPrivateFieldGet(_this4, _eventService).fetchUserEvents().then(function (response) {// noting\n              })[\"catch\"](function (error) {\n                console.error(error);\n              });\n            })[\"catch\"](function (err) {\n              console.error(err);\n            });\n          }\n        });\n      } else {\n        throw new Error('Fail to find searchEvent');\n      } // const selectedEvent = this.allUserEvents.find\n\n    }\n  }, {\n    key: \"printSuggestions\",\n    value: function printSuggestions(filteredSuggestionEvents) {\n      this.searchSuggestionsHolder.innerHTML = '';\n\n      if (filteredSuggestionEvents && Array.isArray(filteredSuggestionEvents)) {\n        for (var index = 0; index < filteredSuggestionEvents.length; index++) {\n          var element = filteredSuggestionEvents[index];\n          var suggestionHtml = document.createElement('li');\n          suggestionHtml.innerText = element.title;\n          suggestionHtml.setAttribute('eventId', element.id);\n          this.searchSuggestionsHolder.appendChild(suggestionHtml);\n        }\n      }\n    }\n  }, {\n    key: \"filterSuggestions\",\n    value: function filterSuggestions(value, array) {\n      // TODO upgrade to split on words and search for sentence.\n      return array.filter(function (el) {\n        return el.title.toLocaleLowerCase().replace(/\\s/g, '').includes(value.toLocaleLowerCase().replace(/\\s/g, ''));\n      });\n    }\n  }]);\n\n  return SearchEvent;\n}();\n\nvar _eventService = new WeakMap();\n\n//# sourceURL=webpack:///./src/calendar/search-event.js?");

/***/ }),

/***/ "./src/helpers/loader.js":
/*!*******************************!*\
  !*** ./src/helpers/loader.js ***!
  \*******************************/
/*! exports provided: loader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loader\", function() { return loader; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Loader = /*#__PURE__*/function () {\n  function Loader() {\n    _classCallCheck(this, Loader);\n\n    _defineProperty(this, \"loaderHtmlElement\", document.createElement('div'));\n\n    _defineProperty(this, \"loaderCount\", 0);\n\n    _defineProperty(this, \"loadersStack\", []);\n\n    var styleElement = document.createElement('style');\n    styleElement.innerHTML = \"\\n        .loader-overlay {\\n            position:fixed;\\n            top:0;\\n            bottom:0;\\n            right:0;\\n            left:0;\\n            background:rgba(0,0,0,0.3);\\n            display:none;\\n        }\";\n    document.body.appendChild(styleElement);\n    this.loaderHtmlElement.setAttribute('class', 'loader-overlay');\n    document.body.appendChild(this.loaderHtmlElement);\n  }\n\n  _createClass(Loader, [{\n    key: \"show\",\n    value: function show() {\n      this.loaderCount++;\n      var loader = {\n        id: this.loaderCount\n      };\n      this.loadersStack.push(loader);\n      this.loaderHtmlElement.style.display = \"block\";\n      return loader;\n    }\n  }, {\n    key: \"hide\",\n    value: function hide(loaderInst) {\n      var loaderIndex = this.loadersStack.indexOf(function (el) {\n        return el.loaderId = loader.loaderId;\n      });\n      this.loadersStack.splice(loaderIndex, 1);\n\n      if (!this.loadersStack.length) {\n        this.loaderHtmlElement.style.display = \"none\";\n      }\n    }\n  }]);\n\n  return Loader;\n}();\n\nvar loader = new Loader();\n\n//# sourceURL=webpack:///./src/helpers/loader.js?");

/***/ }),

/***/ "./src/helpers/localstorage-cache.js":
/*!*******************************************!*\
  !*** ./src/helpers/localstorage-cache.js ***!
  \*******************************************/
/*! exports provided: LocalStorageCache, localCacheService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LocalStorageCache\", function() { return LocalStorageCache; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"localCacheService\", function() { return localCacheService; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar LocalStorageCache = /*#__PURE__*/function () {\n  function LocalStorageCache() {\n    _classCallCheck(this, LocalStorageCache);\n\n    _defineProperty(this, \"localStorageEnabled\", false);\n\n    this.localStorageEnabled = this.isLocalStorageEnabled();\n\n    if (this.localStorageEnabled) {\n      this.clearOldCache();\n    }\n  }\n\n  _createClass(LocalStorageCache, [{\n    key: \"setCache\",\n    value: function setCache(propertyName, data, path, life) {\n      if (!this.localStorageEnabled) {\n        return;\n      }\n\n      if (typeof life == 'undefined') {\n        life = 1;\n      }\n\n      var expireDate = new Date(Date.now() + life * 24 * 60 * 60 * 1000).toUTCString();\n      var cacheEndPoint = {\n        path: path,\n        data: data,\n        expireDate: expireDate\n      };\n      var cachedData = JSON.stringify(cacheEndPoint);\n      window.localStorage.setItem('cache-' + propertyName, cachedData);\n    }\n  }, {\n    key: \"getCache\",\n    value: function getCache(propertyName) {\n      if (!this.localStorageEnabled) {\n        return;\n      }\n\n      var cache;\n\n      try {\n        cache = JSON.parse(window.localStorage.getItem('cache-' + propertyName));\n      } catch (e) {\n        return undefined;\n      }\n\n      return cache;\n    }\n  }, {\n    key: \"isLocalStorageEnabled\",\n    value: function isLocalStorageEnabled() {\n      var localStorageEnable = false;\n\n      try {\n        localStorage.setItem('test-local-storage', 'test-data');\n        localStorage.removeItem('test-local-storage');\n        localStorageEnable = true;\n      } catch (e) {\n        localStorageEnable = false;\n      }\n\n      return localStorageEnable;\n    }\n  }, {\n    key: \"isCacheExpired\",\n    value: function isCacheExpired(cache) {\n      var expireDate = new Date(cache.expireDate);\n\n      if (new Date() > expireDate) {\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"clearOldCache\",\n    value: function clearOldCache() {\n      var _this = this;\n\n      try {\n        var localStorageEntries = Object.entries(window.localStorage);\n        localStorageEntries.forEach(function (el) {\n          var key = el[0];\n\n          if (key.includes('cache-')) {\n            var cache = _this.getCache(key);\n\n            if (_this.isCacheExpired(cache)) {\n              window.localStorage.removeItem(key);\n            }\n          }\n        });\n        return true;\n      } catch (error) {\n        return false;\n      }\n    }\n  }]);\n\n  return LocalStorageCache;\n}();\nvar localCacheService = new LocalStorageCache();\n\n//# sourceURL=webpack:///./src/helpers/localstorage-cache.js?");

/***/ }),

/***/ "./src/helpers/modal.js":
/*!******************************!*\
  !*** ./src/helpers/modal.js ***!
  \******************************/
/*! exports provided: modal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"modal\", function() { return modal; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Modal = /*#__PURE__*/function () {\n  function Modal() {\n    _classCallCheck(this, Modal);\n\n    _defineProperty(this, \"modal\", void 0);\n\n    _defineProperty(this, \"backDrop\", void 0);\n\n    _defineProperty(this, \"modalFooter\", void 0);\n\n    _defineProperty(this, \"modalBody\", void 0);\n\n    _defineProperty(this, \"modalTitle\", void 0);\n\n    _defineProperty(this, \"modalIsOpen\", false);\n\n    _defineProperty(this, \"actionHandler\", void 0);\n\n    this.appendModalContainer();\n  }\n\n  _createClass(Modal, [{\n    key: \"showModal\",\n    value: function showModal(modalContent, actionHandler) {\n      this.modalIsOpen = true;\n      this.modal.focus();\n      if (modalContent.footer) this.modalFooter.innerHTML = modalContent.footer;\n\n      if (modalContent.body) {\n        this.modalBody.innerHTML = modalContent.body;\n      }\n\n      if (modalContent.title) {\n        this.modalTitle.innerHTML = modalContent.title;\n      }\n\n      this.actionHandler = actionHandler;\n      this.modal.style.display = 'block';\n      document.body.appendChild(this.backDrop);\n      this.backDrop.classList.add('show');\n      this.modal.classList.add('show');\n    }\n  }, {\n    key: \"hideModal\",\n    value: function hideModal() {\n      var _this = this;\n\n      this.modalIsOpen = false;\n      this.modalFooter.innerHTML = '';\n      this.modalBody.innerHTML = '';\n      this.modalTitle.innerHTML = '';\n      this.actionHandler = null;\n      this.modal.classList.remove('show');\n      this.backDrop.classList.remove('show');\n      setTimeout(function () {\n        document.body.removeChild(_this.backDrop);\n        _this.modal.style.display = 'none';\n      }, 100);\n    }\n  }, {\n    key: \"appendModalContainer\",\n    value: function appendModalContainer() {\n      this.modal = document.createElement('div');\n      this.appendEventListener();\n      this.modal.classList.add('modal');\n      this.modal.classList.add('fade');\n      this.backDrop = document.createElement('div');\n      this.backDrop.setAttribute('class', 'modal-backdrop fade');\n      this.modal.innerHTML = \"<div class=\\\"modal-dialog\\\">\\n                <div class=\\\"modal-content\\\">\\n                    <div class=\\\"modal-header\\\">\\n                        <h5 class=\\\"modal-title\\\"></h5>\\n                        <button type=\\\"button\\\" class=\\\"close\\\" data-action=\\\"close\\\" aria-label=\\\"Close\\\">\\n                            <span aria-hidden=\\\"true\\\" data-action=\\\"close\\\">\\xD7</span>\\n                        </button>\\n                    </div>\\n                    <div class=\\\"modal-body\\\">\\n\\n                    </div>\\n                    <div class=\\\"modal-footer\\\">\\n                    </div>\\n                </div>\\n            </div>\";\n      this.modalTitle = this.modal.querySelector('.modal-dialog .modal-title');\n      this.modalBody = this.modal.querySelector('.modal-dialog .modal-body');\n      this.modalFooter = this.modal.querySelector('.modal-dialog .modal-footer');\n      document.body.appendChild(this.modal);\n    }\n  }, {\n    key: \"appendEventListener\",\n    value: function appendEventListener() {\n      var _this2 = this;\n\n      this.modal.addEventListener('click', function (event) {\n        if (typeof _this2.actionHandler === \"function\", event.target.hasAttribute('data-action')) {\n          _this2.actionHandler(event.target.getAttribute('data-action'));\n        }\n      });\n      this.modal.addEventListener('blur', function (e) {\n        if (modalIsOpen) {\n          _this2.modal.focus();\n        }\n      });\n    }\n  }]);\n\n  return Modal;\n}();\n\nvar modal = new Modal();\n\n//# sourceURL=webpack:///./src/helpers/modal.js?");

/***/ }),

/***/ "./src/libs/create-calendar.js":
/*!*************************************!*\
  !*** ./src/libs/create-calendar.js ***!
  \*************************************/
/*! exports provided: createCalendar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createCalendar\", function() { return createCalendar; });\n// Optimize only for changed calendar\nfunction createCalendar(calendarHtmlElement, date, dayContentHandler) {\n  var calendar = calendarHtmlElement;\n\n  if (calendar) {\n    var month = date.getMonth();\n    var year = date.getFullYear();\n    var firstDayOfMonth = new Date(year, month, 1);\n    var lastDayOfMonth = new Date(year, month + 1, 0);\n    var firstDayForCalendar = new Date(year, month, firstDayOfMonth.getDate() - firstDayOfMonth.getDay() + 1);\n    var lastDayForCalendar = new Date(year, month, lastDayOfMonth.getDate() + (7 - lastDayOfMonth.getDay()));\n    var daysOfCalendar = [];\n    daysOfCalendar.push({\n      date: new Date(firstDayForCalendar),\n      isInMonth: month === firstDayForCalendar.getMonth(),\n      isToday: new Date().getTime() === firstDayForCalendar.getTime()\n    });\n\n    while (firstDayForCalendar.getTime() !== lastDayForCalendar.getTime()) {\n      firstDayForCalendar.setDate(firstDayForCalendar.getDate() + 1);\n      daysOfCalendar.push({\n        date: new Date(firstDayForCalendar),\n        isInMonth: month === firstDayForCalendar.getMonth(),\n        isToday: new Date().getTime() === firstDayForCalendar.getTime()\n      });\n    }\n\n    calendar.innerHTML = \"\";\n    var weekHtmlElement;\n\n    for (var index = 0; index < daysOfCalendar.length; index++) {\n      var day = document.createElement('div');\n      var calendarDateObject = daysOfCalendar[index];\n\n      if (index % 7 === 0) {\n        weekHtmlElement = document.createElement('div');\n        weekHtmlElement.classList.add('calendar-week');\n        calendar.appendChild(weekHtmlElement);\n      }\n\n      day.classList.add('calendar-day');\n\n      if (calendarDateObject.isToday) {\n        day.classList.add('current-day');\n      }\n\n      if (!calendarDateObject.isInMonth) {\n        day.classList.add('pass-month-day');\n      }\n\n      day.innerHTML = dayContentHandler(calendarDateObject, day);\n      weekHtmlElement.appendChild(day);\n    }\n  }\n}\n\n//# sourceURL=webpack:///./src/libs/create-calendar.js?");

/***/ }),

/***/ "./src/libs/date-time-picker.js":
/*!**************************************!*\
  !*** ./src/libs/date-time-picker.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function () {// TODO extend the functionality from calendar and create date/time picker\n})();\n\n//# sourceURL=webpack:///./src/libs/date-time-picker.js?");

/***/ }),

/***/ "./src/libs/simpleSubscriber.js":
/*!**************************************!*\
  !*** ./src/libs/simpleSubscriber.js ***!
  \**************************************/
/*! exports provided: SimpleSubject */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SimpleSubject\", function() { return SimpleSubject; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar SimpleSubject = /*#__PURE__*/function () {\n  function SimpleSubject(value) {\n    _classCallCheck(this, SimpleSubject);\n\n    _defineProperty(this, \"value\", void 0);\n\n    _defineProperty(this, \"subscriptions\", []);\n\n    if (typeof value !== 'undefined') {\n      this.value = value;\n    }\n  }\n\n  _createClass(SimpleSubject, [{\n    key: \"next\",\n    value: function next(newValue) {\n      var _this = this;\n\n      this.value = newValue;\n      this.subscriptions.forEach(function (el) {\n        el.handler(_this.value);\n      });\n    }\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(callback) {\n      var subs = {\n        id: this.subscriptions.length + 1,\n        handler: callback\n      };\n      this.subscriptions.push(subs);\n      subs.handler(this.value);\n      return subs;\n    }\n  }, {\n    key: \"removeSubscriber\",\n    value: function removeSubscriber(subs) {\n      var subsIndex = this.subscriptions.indexOf(function (el) {\n        return el.id = subs.id;\n      });\n      this.subscriptions.splice(subsIndex, 1);\n    }\n  }]);\n\n  return SimpleSubject;\n}();\n\n//# sourceURL=webpack:///./src/libs/simpleSubscriber.js?");

/***/ }),

/***/ "./src/libs/typeahead.js":
/*!*******************************!*\
  !*** ./src/libs/typeahead.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function () {\n  function autoCompleteFilter(value, searchIn, searchFor, filterFunction) {\n    var autoCompleteResult = null;\n\n    if (!searchIn) {\n      return null;\n    }\n\n    if (searchFor === '') {\n      return filterFunction(value, searchIn);\n    }\n\n    var property = searchFor.split('.')[0];\n    searchFor = searchFor.slice(property.length + 1);\n\n    if (Array.isArray(searchIn)) {\n      searchIn = searchIn.map(function (el) {\n        el[property] = autoCompleteFilter(value, el[property], searchFor, filterFunction);\n        return el;\n      });\n    } else if (searchIn[property]) {\n      searchIn[property] = autoCompleteFilter(value, searchIn[property], searchFor, filterFunction);\n    }\n\n    return searchIn;\n  }\n\n  function modifyAddEventListener() {\n    var oldAddEventListener = HTMLElement.prototype.addEventListener;\n\n    HTMLElement.prototype.addEventListener = function (event, handler, bubbling) {\n      var superHandler = function superHandler(e) {\n        if (e && e.type && (e.type == 'focus' || e.type == 'blur' || e.type == 'change' || e.type == 'keyup') && // not sure i need to filter the htmlElements\n        e.target.type == 'text' && e.target.nodeName === 'INPUT' && e.target.hasAttribute('typeAheadSearch')) {\n          if (e.type === 'blur') {\n            e.autoCompleteResult = [];\n          } else {\n            var value = e.target.value;\n            var searchFor = e.target.getAttribute('typeAheadSearch');\n            var filterFunction = e.target.getAttribute('typeAheadFilterFunction');\n            var property = searchFor.split('.')[0];\n            searchFor = searchFor.slice(property.length + 1);\n\n            if (typeof window[filterFunction] !== 'function') {\n              handler(e);\n              return;\n            }\n\n            e.autoCompleteResult = autoCompleteFilter(value, window[property], searchFor, window[filterFunction]);\n          }\n        }\n\n        handler(e);\n      };\n\n      oldAddEventListener.call(this, event, superHandler, bubbling);\n    };\n  }\n\n  modifyAddEventListener();\n})();\n\n//# sourceURL=webpack:///./src/libs/typeahead.js?");

/***/ }),

/***/ "./src/main.js":
/*!*********************!*\
  !*** ./src/main.js ***!
  \*********************/
/*! exports provided: eventCalendar, citySearch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"eventCalendar\", function() { return eventCalendar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"citySearch\", function() { return citySearch; });\n/* harmony import */ var _libs_typeahead__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./libs/typeahead */ \"./src/libs/typeahead.js\");\n/* harmony import */ var _libs_typeahead__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_libs_typeahead__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _libs_date_time_picker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./libs/date-time-picker */ \"./src/libs/date-time-picker.js\");\n/* harmony import */ var _libs_date_time_picker__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_libs_date_time_picker__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _calendar_event_calendar_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./calendar/event-calendar.js */ \"./src/calendar/event-calendar.js\");\n/* harmony import */ var _search_city_search_city__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./search-city/search-city */ \"./src/search-city/search-city.js\");\n\n\n\n\nvar eventCalendar = new _calendar_event_calendar_js__WEBPACK_IMPORTED_MODULE_2__[\"EventCalendar\"]();\nvar citySearch = new _search_city_search_city__WEBPACK_IMPORTED_MODULE_3__[\"CitySearch\"]();\n\n//# sourceURL=webpack:///./src/main.js?");

/***/ }),

/***/ "./src/search-city/search-city.js":
/*!****************************************!*\
  !*** ./src/search-city/search-city.js ***!
  \****************************************/
/*! exports provided: CitySearch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CitySearch\", function() { return CitySearch; });\n/* harmony import */ var _services_api_connection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../services/api-connection */ \"./src/services/api-connection.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = privateMap.get(receiver); if (!descriptor) { throw new TypeError(\"attempted to set private field on non-instance\"); } if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } return value; }\n\n\nvar CitySearch = /*#__PURE__*/function () {\n  function CitySearch() {\n    var _this = this;\n\n    _classCallCheck(this, CitySearch);\n\n    _defineProperty(this, \"searchInput\", void 0);\n\n    _defineProperty(this, \"searchSuggestions\", void 0);\n\n    _defineProperty(this, \"searchHolder\", void 0);\n\n    _cityData.set(this, {\n      writable: true,\n      value: []\n    });\n\n    document.addEventListener('DOMContentLoaded', function () {\n      _this.getCities().then(function (res) {\n        window.filterCity = _this.filterFunction;\n        window.cityData = res;\n\n        _classPrivateFieldSet(_this, _cityData, res);\n\n        _this.searchInput = document.querySelector('#city-search');\n        _this.searchSuggestions = document.querySelector('#city-search-suggestions');\n        _this.searchHolder = document.querySelector('#city-search-holder');\n\n        if (_this.searchInput, _this.searchSuggestions, _this.searchHolder) {\n          _this.eventListeners();\n        } else {\n          console.error('Missing html elements');\n        }\n      })[\"catch\"](function (err) {\n        console.error(err);\n      });\n    });\n  }\n\n  _createClass(CitySearch, [{\n    key: \"getCities\",\n    value: function getCities() {\n      return new Promise(function (resolve, reject) {\n        _services_api_connection__WEBPACK_IMPORTED_MODULE_0__[\"apiConnectionService\"].get('city.json').then(function (response) {\n          resolve(response.data);\n        })[\"catch\"](function (err) {\n          reject(err);\n        });\n      });\n    }\n  }, {\n    key: \"eventListeners\",\n    value: function eventListeners() {\n      var _this2 = this;\n\n      this.searchInput.focus = function (event) {\n        console.log(event);\n      };\n\n      this.searchInput.addEventListener('focus', function (event) {\n        _this2.printSuggestions(event.autoCompleteResult);\n\n        if (event.autoCompleteResult && Array.isArray(event.autoCompleteResult) && event.autoCompleteResult.length) {\n          _this2.searchHolder.classList.add('open');\n        } else {\n          _this2.searchHolder.classList.remove('open');\n        }\n      });\n      this.searchInput.addEventListener('keydown', function (event) {\n        if (!event.key.match(/^[A-Za-z]+$/)) {\n          event.preventDefault();\n        }\n      });\n      this.searchInput.addEventListener('keyup', function (event) {\n        _this2.printSuggestions(event.autoCompleteResult);\n\n        if (event.autoCompleteResult && Array.isArray(event.autoCompleteResult) && event.autoCompleteResult.length) {\n          _this2.searchHolder.classList.add('open');\n\n          if (event.key === \"Enter\") {\n            _this2.selectSuggestion(event.autoCompleteResult[0]);\n\n            _this2.searchHolder.classList.remove('open');\n          }\n        } else {\n          _this2.searchHolder.classList.remove('open');\n        }\n      });\n      this.searchInput.addEventListener('blur', function (event) {\n        _this2.printSuggestions(event.autoCompleteResult);\n\n        _this2.searchHolder.classList.remove('open');\n      });\n      this.searchHolder.addEventListener('mousedown', function (event) {\n        var suggestion = event.target.getAttribute('citySuggestion');\n\n        if (suggestion) {\n          _this2.selectSuggestion(JSON.parse(suggestion));\n        }\n      });\n    }\n  }, {\n    key: \"selectSuggestion\",\n    value: function selectSuggestion(selectedCity) {\n      this.searchInput.value = selectedCity.name;\n    }\n  }, {\n    key: \"printSuggestions\",\n    value: function printSuggestions(citySuggestions) {\n      this.searchSuggestions.innerHTML = '';\n\n      if (citySuggestions && Array.isArray(citySuggestions)) {\n        for (var index = 0; index < citySuggestions.length; index++) {\n          var element = citySuggestions[index];\n          var suggestionHtml = document.createElement('li');\n          suggestionHtml.innerText = element.name;\n          suggestionHtml.setAttribute('citySuggestion', JSON.stringify(element));\n          this.searchSuggestions.appendChild(suggestionHtml);\n        }\n      }\n    }\n  }, {\n    key: \"filterFunction\",\n    value: function filterFunction(value, cityArray) {\n      return cityArray.filter(function (el) {\n        return el.name.toLowerCase().includes(value.toLowerCase());\n      });\n    }\n  }]);\n\n  return CitySearch;\n}();\n\nvar _cityData = new WeakMap();\n\n//# sourceURL=webpack:///./src/search-city/search-city.js?");

/***/ }),

/***/ "./src/services/api-connection.js":
/*!****************************************!*\
  !*** ./src/services/api-connection.js ***!
  \****************************************/
/*! exports provided: apiConnectionService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"apiConnectionService\", function() { return apiConnectionService; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = privateMap.get(receiver); if (!descriptor) { throw new TypeError(\"attempted to get private field on non-instance\"); } if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = privateMap.get(receiver); if (!descriptor) { throw new TypeError(\"attempted to set private field on non-instance\"); } if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } return value; }\n\nvar ApiConnection = /*#__PURE__*/function () {\n  function ApiConnection(config) {\n    _classCallCheck(this, ApiConnection);\n\n    _config.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _config, config);\n  }\n\n  _createClass(ApiConnection, [{\n    key: \"_send\",\n    value: function _send(type, path, data) {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        var request = new XMLHttpRequest();\n        request.addEventListener(\"load\", function () {\n          var responseText = request.responseText;\n\n          try {\n            var response = JSON.parse(responseText);\n            resolve({\n              code: 200,\n              data: response\n            });\n          } catch (e) {\n            reject({\n              code: 200,\n              message: 'JSON parse error'\n            });\n          }\n        });\n        request.addEventListener(\"error\", function (event) {\n          reject({\n            code: 100,\n            message: 'Connection Error'\n          });\n        });\n        request.addEventListener(\"timeout\", function (event) {\n          reject({\n            code: -1,\n            message: 'Request timeout'\n          });\n        });\n        request.open(type, _classPrivateFieldGet(_this, _config).api + path);\n\n        if (data) {\n          request.send(data);\n        } else {\n          request.send();\n        }\n      });\n    }\n  }, {\n    key: \"get\",\n    value: function get(path) {\n      return this._send('GET', path);\n    }\n  }, {\n    key: \"post\",\n    value: function post(path, data) {\n      data = JSON.stringify(data);\n      return this._send('POST', path, data);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(path) {\n      return this._send('DELETE', path);\n    }\n  }]);\n\n  return ApiConnection;\n}();\n\nvar _config = new WeakMap();\n\nvar apiConnectionService = new ApiConnection({\n  api: 'https://titangate-event-calendar.firebaseio.com/'\n});\n\n//# sourceURL=webpack:///./src/services/api-connection.js?");

/***/ }),

/***/ "./src/services/authentication.js":
/*!****************************************!*\
  !*** ./src/services/authentication.js ***!
  \****************************************/
/*! exports provided: authenticationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"authenticationService\", function() { return authenticationService; });\n/* harmony import */ var _helpers_modal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers/modal */ \"./src/helpers/modal.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = privateMap.get(receiver); if (!descriptor) { throw new TypeError(\"attempted to set private field on non-instance\"); } if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } return value; }\n\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = privateMap.get(receiver); if (!descriptor) { throw new TypeError(\"attempted to get private field on non-instance\"); } if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n\n\n\nvar Authentication = /*#__PURE__*/function () {\n  function Authentication() {\n    _classCallCheck(this, Authentication);\n\n    _auth.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _defineProperty(this, \"modalContent\", {\n      body: \"\\n        <p>The form just save username and password in cookie<p>\\n        <form id=\\\"user-login\\\">\\n            <div class=\\\"form-group\\\">\\n                <label for=\\\"username\\\">Username:</label>\\n                <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"username\\\">\\n            </div>\\n            <div class=\\\"form-group\\\">\\n                <label for=\\\"password\\\">Password:</label>\\n                <input type=\\\"password\\\" class=\\\"form-control\\\" id=\\\"password\\\">\\n            </div>\\n        </form>\",\n      footer: \"<button type=\\\"button\\\" class=\\\"btn btn-success\\\" data-action=\\\"submit\\\">LOGIN</button>\",\n      title: 'Login'\n    });\n\n    var cookie = this.getCookie('user-login');\n\n    if (!cookie) {\n      this.openLoginForm();\n    } else {\n      try {\n        cookie = JSON.parse(cookie);\n\n        if (cookie.username && cookie.password) {\n          this.auth = cookie;\n        } else {\n          this.openLoginForm();\n        }\n      } catch (e) {\n        throw new Error('user-login cookie is broken');\n      }\n    }\n  }\n\n  _createClass(Authentication, [{\n    key: \"openLoginForm\",\n    value: function openLoginForm() {\n      var _this = this;\n\n      var modalInstance = _helpers_modal__WEBPACK_IMPORTED_MODULE_0__[\"modal\"].showModal(this.modalContent, function (action) {\n        if (action === 'submit') {\n          var user = {};\n          var errors = [];\n          Object.values(document.querySelector('#user-login').elements).forEach(function (el) {\n            if (el.value && el.value.trim().length) {\n              user[el.id] = el.value;\n            } else {\n              el.classList.add('error');\n              errors.push(el.id);\n            }\n          });\n\n          if (!errors.length) {\n            var domainName = location.host;\n            var date = new Date();\n            date.setTime(date.getTime() + 2 * 60 * 60 * 1000);\n            _this.auth = user;\n            document.cookie = 'user-login=' + JSON.stringify(_this.auth) + '; expires=' + date.toGMTString() + '; path=/; domain=' + domainName + '; SameSite=Lax;';\n          }\n\n          _helpers_modal__WEBPACK_IMPORTED_MODULE_0__[\"modal\"].hideModal(modalInstance);\n        } else {\n          window.location.replace('./404.html');\n        }\n      });\n    }\n  }, {\n    key: \"getCookie\",\n    value: function getCookie(cname) {\n      var name = cname + \"=\";\n      var ca = document.cookie.split(';');\n\n      for (var i = 0; i < ca.length; i++) {\n        var c = ca[i];\n\n        while (c.charAt(0) == ' ') {\n          c = c.substring(1);\n        }\n\n        if (c.indexOf(name) == 0) {\n          return c.substring(name.length, c.length);\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"auth\",\n    get: function get() {\n      return _classPrivateFieldGet(this, _auth);\n    },\n    set: function set(value) {\n      _classPrivateFieldSet(this, _auth, value);\n    }\n  }]);\n\n  return Authentication;\n}();\n\nvar _auth = new WeakMap();\n\nvar authenticationService = new Authentication();\n\n//# sourceURL=webpack:///./src/services/authentication.js?");

/***/ })

/******/ });